- create city combat between hostileGuerrillas and Host Nation Militaries

- when guerrillas spawn in a city and are defeated, they should have their city changed to a different city in that same province
- so that the next month they will be detected again and fight again for a different city. If no more cities are available then
- they should spawn in a random spot in the province maybe 2 months later (or maybe just keep fighting in that one city
- until all of them are finally killed)

- when city combat ends clear out the attacking and defending arrays in the city and thew combat screen will no longer appear.

- Create mechanic to add unrest reduction to province when rebels spawn for a limited time

- an ideology should have at least 30% of the population of a province, then their unrest debuff kicks in

- have all military units spawn in with the correct amount of morale in runBuildingProcesses.js and this should also apply to
- guerrillas in military functions

- There are two types of Guerrillas, ones connected to the province, and ones connected to an Ideology. When province connected
- guerrillas spawn, they will try to take control of cities in a province to force that province to belong to the country
- they have allegiance to. These can either be defensive guerillas that help you fight a defensive war, or seperatist guerrillas
- that try to occupy the province to force it over to the control of another country or ressurect one that has a core.
- Ideological Guerillas will try to take over as many cities as possible to install a new government. Province guerrillas
- spawn based on the defensive guerilla spawn properties of a country. Ideological guerrillas spawn based on the spawn properties
- of their ideology, but both guerrillas will fight using their spawn country's infantry stats as their base. Both types of
- guerrillas are contained within their spawn country's object in the countries array. Province Based guerrillas will spawn as
- a percentage of the provinces supporting ethnicity if they are hostile, while ideological guerrillas will spawn as a percentage
- of the provinces ideology

- when a province is occupied, a timer start counting down and after 4 years at defects to the other side, if any city
- in the province is taken by the other side the timer resets to 4 years and doesn't start counting again until all cities are
- occupied by the opposing side

- create slider functions and make sure they disembark when activated (if no fleet is present in the city don't run disembark)

- maybe change morale to be based on army and fleet and not by unit then figure out how that would factor into city combat

- in city combat, if an enemy units enters a hostile city it is assumed that defending units are in the hostile city, so gather
- together all defending units and put them in defending arrays. If all of those arrays are empty, then hand over the city to the invader.
- when a country is at war, it should always check the 'countriesPresent' array of any city it enters to see if hostile forces are there
- if they are fight them, but if they are not then ignore it. When at peace only check to see if their are hostileGuerrillas.

- when any type of unit dies, replace its spot in the Units array with 'null' to save space in memory

- add negative economic effects to cities or provinces that are in civil unrest and also add an icon letting you know that this is happening

- create fleet elements on canvas and give them the ability to move around

- create land unit elements on canvas

- make sure that moving armies out of a city closes that city window otherwise it may be possible to select an army which no longer
- exists in the interface thus causing an error. This should also remove the existence of fleet/army from city

- create ranged weapon targeting of closest fleets and armies

- create aircraft combat mechanics

- create Land Combat

- create land attrition

- armies should know what country they are in by looking at the color of the pixel they are on, the default map color should be
- fully brown, and in areas with hilly terrain the color of the province controller should be partially transparent so the brown
- shows through, then armies will determine if they are in hilly terrain based on the transparency of the pixel, but the raw color
- will still match the controlling country

- Add in monthly maintenance costs for all owned units after resource production but before total resource tabulation that goes to
- the player's screen

- create Space Control GUI screen

- if a land army takes too much attrition for it to handle (like in mountains or with a HUGE stack) half of it will break and dissappear
- and the units will re-appear in the last city they came from in their '.cityID' property

- Make Railguns have less health but more damage and cheaper construction cost and missiles have signifcantly more health because destroying missile bunkers
- would be harder than destroying a large railgun in real life

- allow military units to capture cities

- Allow players to zoom the map out (fabricjs tutorial part 5)

- allow pausing time and the game

- add fullscreen option for the game which automatically F11s the screen to fullscreen

- Add corporations

- Add corporation screen

- add country legder and internal controls screen

- add country interactions screen for diplomacy

- Modify the Bankruptcy function in common-functions so that all corporate stock gets sold on Bankruptcy

- Add message alerts to a sidebar letting the player know production stopped when they run out of a resource and
- what resource is needed to continue production. Also create player alerts when they enter or leave bankruptcy, and
- enter or leave starvation

- Create Naval Combat

- Create Provinces borders and province view (goal August 2021)

- add orbital mechanics and units

- allow ranged weapons to attack orbital units (runBuildingProcesses2.js near the bottom)

- add government interactions and internal politics

- create a policy that allows you to select whether or not to fight hostile guerrillas belonging to your enemy when in their territory

- add Unions

- Add unrest/rebel mechanics and rebel popping

- Create AI triggers to start producing or buying a resource when they are producing something and that resource runs out

- Make it so that once a year when technology is being calculated the code checks every country to see if they have a research facility
- and sets their 'hasResearchFacility' property to true or false if they have one in any owned city, after this their may be a random
- chance of them discovering a new technology

- Add diplomatic interactions screen for countries

- Add Economic Control and internal policies menu that you can get to by clicking any resources in the top bar

- Add a main menu that you can get to by clicking the world clock

- Add world saving

- make the screen movable by clicking and dragging

- Create Geostationary space zones that you can put Solar Satellites into, make it so only a limited number of Solar Satellites
- can exist in each zone and only certain countries have building rights. Maybe 6 or 8 zones per world

- make it so that the second and up aircraft technologies give far superior aircraft but also open aircraft up to being more vulnerable
- to cyber attacks




- maybe experiment with disabling object caching and see how that goes (main2.js)

- maybe change it so that when buildings are destroyed, the building process they were attached to is replaced with 'null' so memory doesn't get too full

- WebSockets will be needed to connect the browser to the server and facilitate multiplayer gameplay
- WebWorkers will be needed to create a PWA and allow offline mode for the game, in addition to utilizing multiple cores
- Pointer Lock API can be used to get the coordinates of a mouse at any given moment







===== Trade Mechanics =============================================================================================
- Every country can send resources out every 3 months

- Only major Trade Powers can suck resources in and give money to the countries that sold them those resources
- this means that instead of multiplying 200 X 200 when looking for trade partners on a planet, you will only have
- to multiply 200 X 10 so it is easier on the computer, large countries can fight over becoming a trade Power
- and this can become a source of tension between large nations

- When a small country sends resources out, it choose a random country in one of the 10 Trade Powers to send the resources
- to (unless it is some sort of vassal). If the country is a land neighbor then no ship is sent and the trade is instant.
- When the ship reaches a port belonging to the trade power, the small
- nation receives money directly from the corporation of that nation. Corporations in turn
- can liquidate resources when they have too much of them for 10% more than they bought them for, so although the corporation
- might lose money in the short term, they gain money in the long run.

- If a country does not have a corporation, the government pays for the resources and gets them instead of the corporation
- but they can only liquidate them for 2% higher than market value.
======================================================================================================================



==== Factions ========================================================================================================
- Factions will be intertwined with Government, some countries will have multiple competing factions, while others
- may have only one powerful faction due to government type, corruption, or events. Events
- will often fire regarding factions, when factions are small and competing many of these events will only effect
- the relative power of each faction in their struggle with one another, as one faction becomes more and more powerful
- the events for that faction will start to have more negative effects for the country while the smaller faction
- will simply try to gain more power. Having a single large faction should generally be a bad thing but the faction
- system should be mostly self balancing. Faction events should be one of the mainways countries lose corporation shares

- Corporations can pick a side and prop up factions within a country. Usually a corporation only exists at the mercy of its
- owner nation but this is a chance for the corporation to help or hurt its host nation, or other nations in which it operates.

- Factions will feature heavily in government mechanics, most mechanics within a government should be tied to a faction
- in one way or another. This is another way to punish nations that only have one faction.

========================================================================================================================



==== Types of Leaderboards ==============================================================================================

- These leaderboards are the ones that will exist on the website's database. They will be publicly viewable either
- right away or after a DLC (probably right away). These leaderboards should strongly suggest the various different
- types of game styles that this game should cater to. Different play styles should be encouraged and strengthened
- and in the game these play styles should all have a roughly equal chance of winning more or less.

- Strongest Land Military Power (more points from land units and non-island provinces)

- Strongest Naval Power (more points from naval units and island provinces and seasteads)

- Strongest Space Power (more points from space units and colonies)

- Strongest Economic Power (more points from Trade and Corporations)

- Strongest Diplomatic Power (more points from alliances and vassals and other subjects)

=========================================================================================================================




==== Possible Policies ==================================================================================================
// polices that incease the production of one resource at the expense of another resource are useful for playing tall because
// large sprawling empires will usually be more likely to have an even mix of resources

- Food Increase 1: +10% Food for (-20% oil)(25 Influence)
- Food Increase 2: +20% Food for (-33% oil)(30 Influence. Must have Food Increase 1 for at least 5 years)
- Food Increase 3: +40% Food for (-50% oil) (20 Influence. Only available to certain Authoritarian governments)

- Oil Increase 1: +10% Oil for (-20% food)(25 Influence)
- Oil Increase 2: +20% Oil for (-33% food)(30 Influence. Must have Food Increase 1 for at least 5 years)
- Oil Increase 3: +40% Oil for (-50% food) (20 Influence. Only available to certain Authoritarian governments)

- Minerals Increase 1: +10% Minerals for (-20% Metals)(25 Influence)
- Minerals Increase 2: +20% Minerals for (-33% Metals)(30 Influence. Must have Minerals Increase 1 for at least 5 years)
- Minerals Increase 3: +40% Minerals for (-50% Metals) (20 Influence. Only available to certain Authoritarian governments)

- Metals Increase 1: +10% Metals for (-20% Minerals)(25 Influence)
- Metals Increase 2: +20% Metals for (-33% Minerals)(30 Influence. Must have Metals Increase 1 for at least 5 years)
- Metals Increase 3: +40% Metals for (-50% Minerals) (20 Influence. Only available to certain Authoritarian governments)

- Processed Minerals Increase 1: +10% Processed Minerals for (-20% Processed Metals)(25 Influence)
- Processed Minerals Increase 2: +20% Processed Minerals for (-33% Processed Metals)(30 Influence. Must have Processed Minerals Increase 1 for at least 5 years)
- Processed Minerals Increase 3: +40% Processed Minerals for (-50% Processed Metals) (20 Influence. Only available to certain Authoritarian governments)

- Processed Metals Increase 1: +10% Processed Metals for (-20% Processed Minerals)(25 Influence)
- Processed Metals Increase 2: +20% Processed Metals for (-33% Processed Minerals)(30 Influence. Must have Processed Metals Increase 1 for at least 5 years)
- Processed Metals Increase 3: +40% Processed Metals for (-50% Processed Minerals) (20 Influence. Only available to certain Authoritarian governments)

- Precious Metals Increase 1: +10% Precious Metals for (-20% Nuclear Materials)(25 Influence)
- Precious Metals Increase 2: +20% Precious Metals for (-33% Nuclear Materials)(30 Influence. Must have Precious Metals Increase 1 for at least 5 years)
- Precious Metals Increase 3: +40% Precious Metals for (-50% Nuclear Materials) (20 Influence. Only available to certain Authoritarian governments)

- Nuclear Materials Increase 1: +10% Nuclear Materials for (-20% Precious Metals)(25 Influence)
- Nuclear Materials Increase 2: +20% Nuclear Materials for (-33% Precious Metals)(30 Influence. Must have Nuclear Materials Increase 1 for at least 5 years)
- Nuclear Materials Increase 3: +40% Nuclear Materials for (-50% Precious Metals) (20 Influence. Only available to certain Authoritarian governments)

- Reduce Unrest: -1 influence (-0.5 Capital per province) for every -1 unrest

==========================================================================================================================






======================================= DLC ===================================================================

==== DIPLOMATIC DLC ========================================================================================

Conciliat being able to form a fully controlled vassal swarm will be locked behind this DLC as well as being able to
play as the United Nations and WIL when that comes out (probably another DLC)

<basegame>Coalitions can be formed for multiple countries to join wars together</basegame>

Sanctions can be placed on countries stopping them from buying from certain corporations and stopping trade flow into
but not out of them

Theocracy Mechanics of having prophecies and a messianic figure return to conquer the planet?

<basegame>More Faction and Ideology mechanics (at least a couple)</basegame>

===================================================================================================================

===== MILITARY DLC ===============================================================================================

Sky Marines can be built if you already have both Marines and Space Infantry

Ability to customize military units stats (base game will only use default stats)

Introduce Unit Stealth mechanics

???Submarines only exist after this DLC???

Ability to commit genocides

Generals get attributes that effect the armies they lead

===================================================================================================================

=== CYBERWAREFARE DLC =============================================================================================

Viruses to create:
Hijack Satellite
- Take Control of specific type of satellite

Disable Satellite
- De-orbit specific type of satellite

Disable Aircraft
- Crash aircraft

Hack Infrastructure
- Shut down specific type of building (multiple at a time?)

Virus
- Damage defense network (most common, the penalties for this are already explained in the blueprint)

Hack Research Facility
- Steal Technology (enemy must have a research facility)

Hack Military Comms
- Gain huge battle dice boost against enemy in next battle and drop the Battle Dice rolls to 0 everytime

Hack Banks
- Steal Money

Support Dissidents
- +3 unrest to any enemy province which already has at least 2 unrest

Military Intel
- Possible merge this with another virus, but basically this just adds the id of the country infected
- to the attacker country's "hasMilitaryIntel" array

Probably Internet trade and digital assets fall inside this DLC

===============================================================================================================

==== SPACE DLC ================================================================================================

- <basegame>Ability to build Solar Stations (base game should only have Asteroid Stations)</basegame>

- <basegame>Ability to build Antimatter factories on Gas Giants</basegame>

- <basegame>Ability to Harvest Exotic matter</basegame>

- Ability to build Wormholes to other Solar Systems

- Maybe large Beam weapons to use against land countries if you have enough Solar Stations?

=================================================================================================================

==== CUSTOM NATION DLC ==========================================================================================

- <basegame>Global leaderboard for singleplayer and multiplayer games</basegame>

- Ability to Create a Custom Nation and choose its starting provinces and national idea

- ability to use custom nations in multiplayer games

==================================================================================================================